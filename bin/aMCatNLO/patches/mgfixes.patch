diff -ur MG5_aMC_v2_1_0_orig/models/loop_sm/parameters.py MG5_aMC_v2_1_0/models/loop_sm/parameters.py
--- MG5_aMC_v2_1_0_orig/models/loop_sm/parameters.py    2014-02-07 19:34:30.000000000 +0100
+++ MG5_aMC_v2_1_0/models/loop_sm/parameters.py 2014-02-12 19:56:51.627384800 +0100
@@ -209,7 +209,7 @@
                lhablock = 'MASS',
                lhacode = [ 11 ])
 
-MM = Parameter(name = 'MM',
+Mass_Muon = Parameter(name = 'Mass_Muon',
                nature = 'external',
                type = 'real',
                value = 0.10566,

diff -ur MG5_aMC_v2_1_0_orig/models/loop_sm/particles.py MG5_aMC_v2_1_0/models/loop_sm/particles.py
--- MG5_aMC_v2_1_0_orig/models/loop_sm/particles.py     2014-02-07 19:34:30.000000000 +0100
+++ MG5_aMC_v2_1_0/models/loop_sm/particles.py  2014-02-12 19:57:26.894836051 +0100
@@ -254,7 +254,7 @@
                       antiname = 'm+',
                       spin = 2,
                       color = 1,
-                      mass = Param.MM,
+                      mass = Param.Mass_Muon,
                       width = Param.ZERO,
                       texname = 'm-',
                       antitexname = 'm-',

diff -ur MG5_aMC_v2_1_0_orig/MadSpin/interface_madspin.py MG5_aMC_v2_1_0/MadSpin/interface_madspin.py
--- MG5_aMC_v2_1_0_orig/MadSpin/interface_madspin.py    2014-02-21 18:14:13.000000000 +0100
+++ MG5_aMC_v2_1_0/MadSpin/interface_madspin.py 2014-02-25 09:41:56.000000000 +0100
@@ -510,6 +510,14 @@
         generate_all.pid2width = lambda pid: generate_all.banner.get('param_card', 'decay', abs(pid)).value
         generate_all.pid2mass = lambda pid: generate_all.banner.get('param_card', 'mass', abs(pid)).value
         
+        if generate_all.path_me != self.options['ms_dir']:
+          for decay in generate_all.all_ME.values():
+            decay['path'] = decay['path'].replace(generate_all.path_me, self.options['ms_dir'])
+            for decay2 in decay['decays']:
+              decay2['path'] = decay2['path'].replace(generate_all.path_me, self.options['ms_dir'])
+          generate_all.path_me = self.options['ms_dir'] # directory can have been move
+          generate_all.ms_dir = generate_all.path_me
+
         if not hasattr(self.banner, 'param_card'):
             self.banner.charge_card('slha')
         for name, block in self.banner.param_card.items():

diff -urN MG5_aMC_v2_1_0_orig/models/loop_sm/restrict_lepton_masses_ckm.dat MG5_aMC_v2_1_0/models/loop_sm/restrict_lepton_masses_ckm.dat
--- MG5_aMC_v2_1_0_orig/models/loop_sm/restrict_lepton_masses_ckm.dat   1970-01-01 01:00:00.000000000 +0100
+++ MG5_aMC_v2_1_0/models/loop_sm/restrict_lepton_masses_ckm.dat        2014-02-12 19:43:17.937975500 +0100
@@ -0,0 +1,63 @@
+######################################################################
+## PARAM_CARD AUTOMATICALY GENERATED BY THE UFO  #####################
+######################################################################
+
+###################################
+### INFORMATION FOR LOOP
+####################################
+Block loop
+  1 9.118800e+01 # MU_R
+
+###################################
+## INFORMATION FOR SMINPUTS
+###################################
+Block SMINPUTS 
+    1 1.325070e+02 # aEWM1 
+    2 1.166390e-05 # Gf 
+    3 1.180000e-01 # aS 
+
+###################################
+## INFORMATION FOR MASS
+###################################
+Block MASS 
+    4 0.000000e+00 # MC 
+    5 4.700000e+00 # MB 
+    6 1.730000e+02 # MT 
+   11 5.110000e-04 # Me 
+   13 1.056600e-01 # MM 
+   15 1.777000e+00 # MTA 
+   23 9.118800e+01 # MZ 
+   25 1.250000e+02 # MH 
+
+###################################
+## INFORMATION FOR DECAY
+###################################
+DECAY   6 1.491500E+00
+DECAY  15 2.270000e-12
+DECAY  23 2.441404e+00 
+DECAY  24 2.047600e+00 
+DECAY  25 6.38233934e-03 
+
+###################################
+## INFORMATION FOR WOLFENSTEIN
+###################################
+Block Wolfenstein 
+#    1 0.000000e+00 # lamWS 
+#    2 0.000000e+00 # AWS 
+#    3 0.000000e+00 # rhoWS 
+#    4 0.000000e+00 # etaWS 
+    1 2.253000e-01 # lamWS 
+    2 8.080000e-01 # AWS 
+    3 1.320000e-01 # rhoWS 
+    4 3.410000e-01 # etaWS    
+
+###################################
+## INFORMATION FOR YUKAWA
+###################################
+Block YUKAWA 
+    4 0.000000e+00 # ymc 
+    5 4.700000e+00 # ymb
+    6 1.730000e+02 # ymt
+   11 5.110000e-04 # yme
+   13 1.056600e-01 # ymm
+   15 1.777000e+00 # ymtau 

diff -urN MG5_aMC_v2_1_0_orig/models/loop_sm/restrict_lepton_masses_ckm.dat MG5_aMC_v2_1_0/models/loop_sm/restrict_lepton_masses_no_b_mass_ckm.dat
--- MG5_aMC_v2_1_0_orig/models/loop_sm/restrict_lepton_masses_no_b_mass_ckm.dat   1970-01-01 01:00:00.000000000 +0100
+++ MG5_aMC_v2_1_0/models/loop_sm/restrict_lepton_masses_no_b_mass_ckm.dat        2014-02-12 19:43:17.937975500 +0100
@@ -0,0 +1,63 @@
+######################################################################
+## PARAM_CARD AUTOMATICALY GENERATED BY THE UFO  #####################
+######################################################################
+
+###################################
+### INFORMATION FOR LOOP
+####################################
+Block loop
+  1 9.118800e+01 # MU_R
+
+###################################
+## INFORMATION FOR SMINPUTS
+###################################
+Block SMINPUTS 
+    1 1.325070e+02 # aEWM1 
+    2 1.166390e-05 # Gf 
+    3 1.180000e-01 # aS 
+
+###################################
+## INFORMATION FOR MASS
+###################################
+Block MASS 
+    4 0.000000e+00 # MC 
+    5 0.000000e+00 # MB 
+    6 1.730000e+02 # MT 
+   11 5.110000e-04 # Me 
+   13 1.056600e-01 # MM 
+   15 1.777000e+00 # MTA 
+   23 9.118800e+01 # MZ 
+   25 1.250000e+02 # MH 
+
+###################################
+## INFORMATION FOR DECAY
+###################################
+DECAY   6 1.491500E+00
+DECAY  15 2.270000e-12
+DECAY  23 2.441404e+00 
+DECAY  24 2.047600e+00 
+DECAY  25 6.38233934e-03 
+
+###################################
+## INFORMATION FOR WOLFENSTEIN
+###################################
+Block Wolfenstein 
+#    1 0.000000e+00 # lamWS 
+#    2 0.000000e+00 # AWS 
+#    3 0.000000e+00 # rhoWS 
+#    4 0.000000e+00 # etaWS 
+    1 2.253000e-01 # lamWS 
+    2 8.080000e-01 # AWS 
+    3 1.320000e-01 # rhoWS 
+    4 3.410000e-01 # etaWS    
+
+###################################
+## INFORMATION FOR YUKAWA
+###################################
+Block YUKAWA 
+    4 0.000000e+00 # ymc 
+    5 0.000000e+00 # ymb
+    6 1.730000e+02 # ymt
+   11 5.110000e-04 # yme
+   13 1.056600e-01 # ymm
+   15 1.777000e+00 # ymtau 

diff -urN MG5_aMC_v2_1_0_orig/models/loop_sm/restrict_lepton_masses_ckm.dat MG5_aMC_v2_1_0/models/loop_sm/restrict_lepton_masses_no_b_mass.dat
--- MG5_aMC_v2_1_0_orig/models/loop_sm/restrict_lepton_masses_no_b_mass.dat   1970-01-01 01:00:00.000000000 +0100
+++ MG5_aMC_v2_1_0/models/loop_sm/restrict_lepton_masses_no_b_mass.dat        2014-02-12 19:43:17.937975500 +0100
@@ -0,0 +1,63 @@
+######################################################################
+## PARAM_CARD AUTOMATICALY GENERATED BY THE UFO  #####################
+######################################################################
+
+###################################
+### INFORMATION FOR LOOP
+####################################
+Block loop
+  1 9.118800e+01 # MU_R
+
+###################################
+## INFORMATION FOR SMINPUTS
+###################################
+Block SMINPUTS 
+    1 1.325070e+02 # aEWM1 
+    2 1.166390e-05 # Gf 
+    3 1.180000e-01 # aS 
+
+###################################
+## INFORMATION FOR MASS
+###################################
+Block MASS 
+    4 0.000000e+00 # MC 
+    5 0.000000e+00 # MB 
+    6 1.730000e+02 # MT 
+   11 5.110000e-04 # Me 
+   13 1.056600e-01 # MM 
+   15 1.777000e+00 # MTA 
+   23 9.118800e+01 # MZ 
+   25 1.250000e+02 # MH 
+
+###################################
+## INFORMATION FOR DECAY
+###################################
+DECAY   6 1.491500E+00
+DECAY  15 2.270000e-12
+DECAY  23 2.441404e+00 
+DECAY  24 2.047600e+00 
+DECAY  25 6.38233934e-03 
+
+###################################
+## INFORMATION FOR WOLFENSTEIN
+###################################
+Block Wolfenstein 
+    1 0.000000e+00 # lamWS 
+    2 0.000000e+00 # AWS 
+    3 0.000000e+00 # rhoWS 
+    4 0.000000e+00 # etaWS 
+#    1 2.253000e-01 # lamWS 
+#    2 8.080000e-01 # AWS 
+#    3 1.320000e-01 # rhoWS 
+#    4 3.410000e-01 # etaWS    
+
+###################################
+## INFORMATION FOR YUKAWA
+###################################
+Block YUKAWA 
+    4 0.000000e+00 # ymc 
+    5 0.000000e+00 # ymb
+    6 1.730000e+02 # ymt
+   11 5.110000e-04 # yme
+   13 1.056600e-01 # ymm
+   15 1.777000e+00 # ymtau 

diff -ur MG5_aMC_v2_1_0_orig/Template/NLO/SubProcesses/makefile_fks_dir MG5_aMC_v2_1_0/Template/NLO/SubProcesses/makefile_fks_dir
--- MG5_aMC_v2_1_0_orig/Template/NLO/SubProcesses/makefile_fks_dir      2014-02-07 19:34:30.000000000 +0100
+++ MG5_aMC_v2_1_0/Template/NLO/SubProcesses/makefile_fks_dir   2014-02-14 19:00:29.000000000 +0100
@@ -19,7 +19,7 @@
 # Uncomment the line below to compile with MadLoop without setting the environnement
 # variables 'by hand'
 # NLOLIBS= -L. -lMadLoop -L$(LIBDIR) -lcts
-LINKLIBS = -L$(LIBDIR) -ldhelas -lgeneric -lmodel -lpdf -lcernlib $(lhapdf)
+LINKLIBS = -L$(LIBDIR) -ldhelas -lgeneric -lmodel -lpdf -lcernlib $(lhapdf) -lz
 LIBS = $(LIBDIR)libdhelas.a $(LIBDIR)libgeneric.a $(LIBDIR)libmodel.a  \
 $(LIBDIR)libpdf.a $(LIBDIR)libcernlib.a

